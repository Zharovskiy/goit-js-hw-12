{"version":3,"file":"commonHelpers.js","sources":["../src/img/dang.svg","../src/img/err.svg","../src/img/x.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__da6a1a3c__\"","export default \"__VITE_ASSET__33588f56__\"","export default \"__VITE_ASSET__6cc9f946__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport dangIcon from './img/dang.svg';\nimport errorIcon from './img/err.svg';\nimport xIcon from './img/x.svg';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {captionDelay: 250, captionsData: 'alt'});\n\nconst form = document.querySelector(\".form\");\nconst imageList = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", onSearch);\n\nfunction onSearch (event) {\n  event.preventDefault();\n  const keyWord = event.target.keyword.value.trim();\n  if (keyWord) {\n    imageList.innerHTML = '<span class=\"loader\"></span>';\n    fetchImage(keyWord)\n    .then((images) => renderImage(images))\n    .catch((error) => onRejected(error));\n    form.reset();\n  }\n}\n\nfunction fetchImage(keyWord) {\n  const BASE_URL = 'https://pixabay.com/';\n  const END_POINT = 'api/';\n  const PARAMS = new URLSearchParams({\n    key: '42096263-920755fbf423cd5814494514c',\n    q: keyWord,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  });\n  const URL = `${BASE_URL}${END_POINT}?${PARAMS}`;\n\n  return fetch(URL)\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error(`${response.status} - ${response.statusText}`);\n    }\n  );\n}\n\nfunction renderImage({totalHits, hits}) {\n  if (parseInt(totalHits) > 0) {\n    const markup = hits.map(createElementGallery).join('');\n    imageList.innerHTML = markup;\n    lightbox.refresh();\n  }else{\n    imageList.innerHTML = '';\n    onWarning();\n  }    \n}\n\nfunction createElementGallery({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n  return `\n<ul class=\"card\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n  </a>\n  <ul class=\"item-img\">\n    <li class=\"elem-img\">\n      <p class=\"elem-name\">Likes</p>\n      <p>${likes}</p>\n    </li>\n    <li class=\"elem-img\">\n      <p class=\"elem-name\">Views</p>\n      <p>${views}</p>\n    </li>\n    <li class=\"elem-img\">\n      <p class=\"elem-name\">Comments</p>\n      <p>${comments}</p>\n    </li>\n    <li class=\"elem-img\">\n      <p class=\"elem-name\">Downloads</p>\n      <p>${downloads}</p>\n    </li>\n  </ul>\n</ul>\n`}\n\nfunction onWarning() {\n  iziToast.warning({\n    title: 'Sorry,',\n    titleColor: '#FFFFFF',\n    message: 'there are no images matching your search query. Please try again!',\n    messageColor: '#FFFFFF',\n    messageSize: '16px',\n    backgroundColor: '#FFA000',\n    iconUrl: dangIcon,\n    position: 'center',\n    close: false,\n    buttons: [\n      [\n        `<button type=\"button\" style=\"\n          background-color: #FFA000; \n          width: 20px; \n          height: 20px; \n          padding: 5px\">\n            <img style=\"\n              width: 10px; \n              height: 10px\" \n              src=${xIcon}>\n        </button>`,\n        function (instance, toast) {\n          instance.hide({ transitionOut: 'fadeOut' }, toast);\n        },\n      ],\n    ]\n  });\n}\n\nfunction onRejected(error) {\n  iziToast.show({\n    title: 'Error',\n    titleColor: '#FFFFFF',\n    message: `${error}`,\n    messageColor: '#FFFFFF',\n    messageSize: '16px',\n    backgroundColor: '#EF4040',\n    iconUrl: errorIcon,\n    position: 'topRight',\n    close: false,\n    buttons: [\n      [\n        `<button type=\"button\" style=\"\n          background-color: #EF4040; \n          width: 20px; \n          height: 20px; \n          padding: 5px\">\n            <img style=\"\n              width: 10px; \n              height: 10px\" \n                src=${xIcon}>\n        </button>`,\n        function (instance, toast) {\n          instance.hide({ transitionOut: 'fadeOut' }, toast);\n        },\n      ],\n    ]\n  });\n};\n\n"],"names":["dangIcon","errorIcon","xIcon","lightbox","SimpleLightbox","form","imageList","onSearch","event","keyWord","fetchImage","images","renderImage","error","onRejected","BASE_URL","END_POINT","PARAMS","URL","response","totalHits","hits","markup","createElementGallery","onWarning","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iziToast","instance","toast"],"mappings":"6vBAAA,MAAeA,EAAA,0CCAAC,EAAA,yCCAAC,EAAA,uCCQTC,EAAW,IAAIC,EAAe,aAAc,CAAC,aAAc,IAAK,aAAc,KAAK,CAAC,EAEpFC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,UAAU,EAEnDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAAUC,EAAO,CACxBA,EAAM,eAAc,EACpB,MAAMC,EAAUD,EAAM,OAAO,QAAQ,MAAM,OACvCC,IACFH,EAAU,UAAY,+BACtBI,EAAWD,CAAO,EACjB,KAAME,GAAWC,EAAYD,CAAM,CAAC,EACpC,MAAOE,GAAUC,EAAWD,CAAK,CAAC,EACnCR,EAAK,MAAK,EAEd,CAEA,SAASK,EAAWD,EAAS,CAC3B,MAAMM,EAAW,uBACXC,EAAY,OACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGR,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKS,EAAM,GAAGH,IAAWC,KAAaC,IAEvC,OAAO,MAAMC,CAAG,EACb,KAAMC,GAAa,CAClB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAElB,MAAM,IAAI,MAAM,GAAGA,EAAS,YAAYA,EAAS,YAAY,CAC9D,CACL,CACA,CAEA,SAASP,EAAY,CAAC,UAAAQ,EAAW,KAAAC,CAAI,EAAG,CACtC,GAAI,SAASD,CAAS,EAAI,EAAG,CAC3B,MAAME,EAASD,EAAK,IAAIE,CAAoB,EAAE,KAAK,EAAE,EACrDjB,EAAU,UAAYgB,EACtBnB,EAAS,QAAO,CACpB,MACIG,EAAU,UAAY,GACtBkB,GAEJ,CAEA,SAASD,EAAqB,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CACpG,MAAO;AAAA;AAAA,kCAEyBL;AAAA,sCACID,WAAsBE;AAAA;AAAA;AAAA;AAAA;AAAA,WAKjDC;AAAA;AAAA;AAAA;AAAA,WAIAC;AAAA;AAAA;AAAA;AAAA,WAIAC;AAAA;AAAA;AAAA;AAAA,WAIAC;AAAA;AAAA;AAAA;AAAA,CAIV,CAED,SAASP,GAAY,CACnBQ,EAAS,QAAQ,CACf,MAAO,SACP,WAAY,UACZ,QAAS,oEACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,QAAShC,EACT,SAAU,SACV,MAAO,GACP,QAAS,CACP,CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQYE;AAAA,mBAEZ,SAAU+B,EAAUC,EAAO,CACzBD,EAAS,KAAK,CAAE,cAAe,SAAW,EAAEC,CAAK,CAClD,CACF,CACF,CACL,CAAG,CACH,CAEA,SAASpB,EAAWD,EAAO,CACzBmB,EAAS,KAAK,CACZ,MAAO,QACP,WAAY,UACZ,QAAS,GAAGnB,IACZ,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,QAASZ,EACT,SAAU,WACV,MAAO,GACP,QAAS,CACP,CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAQcC;AAAA,mBAEd,SAAU+B,EAAUC,EAAO,CACzBD,EAAS,KAAK,CAAE,cAAe,SAAW,EAAEC,CAAK,CAClD,CACF,CACF,CACL,CAAG,CACH"}